# TideWatch Environment Configuration Example
# Copy this file to .env and customize for your deployment
#
# ==============================================================================
# IMPORTANT: Most configuration is optional!
# ==============================================================================
# TideWatch auto-generates all secrets on first startup and stores them in /data/
#   - JWT secrets: /data/secret.key
#   - Session secrets: /data/session_secret.key
#
# This .env file is only for settings that:
#   1. You want to customize from defaults
#   2. Cannot be changed through the UI
#
# Most users can run TideWatch with ZERO configuration - just start the container!

# ==============================================================================
# GENERAL SETTINGS (Optional)
# ==============================================================================
# Timezone (default: UTC)
TZ=America/Chicago

# ==============================================================================
# SECURITY SETTINGS (Optional)
# ==============================================================================
# CORS Origins (comma-separated)
# Default: Localhost development ports (secure by default)
#   http://localhost:8788, http://localhost:3000, http://localhost:5173, etc.
# Set to specific production domains when deploying:
# CORS_ORIGINS=https://tidewatch.example.com,https://app.example.com
#
# WARNING: Never use wildcard in production!
# CORS_ORIGINS=*  # ⚠️ Insecure - only for testing

# CSRF Secure Cookie
# Default: false (allows HTTP)
# Set to true in production when using HTTPS
# CSRF_SECURE_COOKIE=true

# Debug Mode
# Default: false (generic errors, no stack traces)
# Set to true ONLY in development - exposes detailed error messages
# TIDEWATCH_DEBUG=false

# ==============================================================================
# OPTIONAL: DATABASE ENCRYPTION (v3.4.0+)
# ==============================================================================
# Encrypt sensitive database fields (API tokens, passwords, webhook URLs)
# If not set, sensitive fields are stored in plain text (warning logged)
#
# Generate encryption key:
# python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
#
# TIDEWATCH_ENCRYPTION_KEY=your-generated-key-here

# ==============================================================================
# OPTIONAL: DATABASE CONFIGURATION
# ==============================================================================
# Database connection URL
# Default: SQLite at /data/tidewatch.db (zero-config, works out of the box)
#
# PostgreSQL (for multi-user or high-traffic deployments):
# DATABASE_URL=postgresql+asyncpg://username:password@hostname:5432/tidewatch

# ==============================================================================
# OPTIONAL: DOCKER CONFIGURATION
# ==============================================================================
# Docker socket connection
# Default: unix:///var/run/docker.sock
# Override for remote Docker or socket proxy
# DOCKER_HOST=tcp://socket-proxy-rw:2375

# ==============================================================================
# OPTIONAL: LOGGING
# ==============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR)
# Default: INFO
# LOG_LEVEL=INFO

# ==============================================================================
# OIDC/SSO AUTHENTICATION (Required only if using OIDC)
# ==============================================================================
# These MUST be set as environment variables if using auth_mode=oidc
# Cannot be configured through the UI for security reasons
#
# After setting these, change auth_mode to 'oidc' in Settings → System
#
# OIDC Client ID (from your identity provider)
# OIDC_CLIENT_ID=tidewatch
#
# OIDC Client Secret (from your identity provider)
# ⚠️  SECURITY: Never commit this to version control!
# OIDC_CLIENT_SECRET=your-client-secret-here
#
# OIDC Discovery URL (provider's .well-known/openid-configuration endpoint)
# Examples:
#   Authentik: https://auth.example.com/application/o/tidewatch/.well-known/openid-configuration
#   Keycloak: https://keycloak.example.com/realms/myrealm/.well-known/openid-configuration
#   Google: https://accounts.google.com/.well-known/openid-configuration
# OIDC_PROVIDER_URL=https://auth.example.com/.well-known/openid-configuration
#
# OIDC Redirect URI (must match provider configuration exactly)
# OIDC_REDIRECT_URI=https://tidewatch.example.com/api/auth/oidc/callback
