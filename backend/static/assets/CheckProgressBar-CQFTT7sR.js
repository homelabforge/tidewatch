import{j as e}from"./index-BUvqVJQz.js";import{X as c,n as m,w as h,v as l,R as p}from"./ui-vendor-C3V6pTL3.js";function C({job:t,onCancel:i,onDismiss:d}){const s=t.status==="queued"||t.status==="running",r=t.status==="done",n=t.status==="failed",a=t.status==="canceled",u=()=>n?"bg-red-500":a?"bg-yellow-500":"bg-primary",x=()=>s?e.jsx(m,{className:"w-5 h-5 animate-spin text-primary"}):r?e.jsx(h,{className:"w-5 h-5 text-primary"}):n?e.jsx(l,{className:"w-5 h-5 text-red-500"}):a?e.jsx(l,{className:"w-5 h-5 text-yellow-500"}):e.jsx(p,{className:"w-5 h-5 text-tide-text-muted"}),o=()=>t.status==="queued"?"Starting update check...":t.status==="running"?t.currentContainer?`Checking ${t.currentContainer}...`:"Checking containers...":r?"Update check complete":n?"Update check failed":a?"Update check canceled":"Unknown status";return e.jsxs("div",{className:"bg-tide-surface border border-tide-border rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x(),e.jsx("span",{className:"text-sm font-medium text-tide-text",children:o()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-tide-text-muted",children:[t.checkedCount,"/",t.totalCount," checked",t.updatesFound>0&&e.jsxs("span",{className:"ml-2 text-green-400",children:[t.updatesFound," update",t.updatesFound!==1?"s":""," found"]}),t.errorsCount>0&&e.jsxs("span",{className:"ml-2 text-red-400",children:[t.errorsCount," error",t.errorsCount!==1?"s":""]})]}),s&&i&&e.jsx("button",{onClick:i,className:"p-1 rounded hover:bg-tide-bg text-tide-text-muted hover:text-tide-text transition-colors",title:"Cancel update check",children:e.jsx(c,{className:"w-4 h-4"})}),!s&&d&&e.jsx("button",{onClick:d,className:"p-1 rounded hover:bg-tide-bg text-tide-text-muted hover:text-tide-text transition-colors",title:"Dismiss",children:e.jsx(c,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"h-2 bg-tide-bg rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${u()} transition-all duration-300 ease-out`,style:{width:`${Math.min(100,t.progressPercent)}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-tide-text-muted",children:[t.progressPercent.toFixed(0),"%"]})})]})}export{C};
